      <div class="jumbotron">
        <h5>一字千金 操作後台</h5>
        <p>目前上線人數<span id="user_count">0</span>人</p>
      </div>
      <div style="float:left;">
        <div class="row">
          <% @visitors.each do |x| %>
          <div class="col-md-3">
            <div class="row">
              <div class="col-md-1">
                <input type="checkbox" name="gamer" value="<%= x.id %>"/>
              </div>
              <div class="col-md-3">
                <%= render_gamer_photo(x.image,"thumb") %>
                <p><%= x.name %></p>
              </div>
              <div class="col-md-6">
                <canvas id="origin_<%= x.id %>" class="orgincanvas"></canvas>
              </div>
            </div>
          </div>
          <% end %>
        </div>
        <div class="row">
          <div class="col-md-12">
            <input type="checkbox" id="allGamer"/>全選
            <button id="yes_button" style="font-size:15px;">答對</button>
            <button id="no_button" style="font-size:15px;">答錯</button>
            <button id="out_button" style="font-size:15px;">淘汰</button>
            <button id="start_button" style="font-size:15px;">Start</button>
            <button id="stop_button" style="font-size:15px;">Stop</button>
          </div>
        </div>
      </div>
      <canvas id="multiple" class="orgincanvas hidden"></canvas>

      <% content_for :javascripts do %>
      <%= javascript_include_tag 'server' %>
      <script>
      $(document).ready(function() {
        CM.prop({
          width: 500,
          height: 500,
          lineWidth: 15,
          lineColor: '#333333',
          targetZoomScale: 0.1,
          backgroundImage: '/assets/block-524.png'
        });
        <% @visitors.each do |visitor| %>
        CM.reg('origin_<%= visitor.id %>');
        <% end %>

        window.chatApp = new ChatApp(500,500,'0');
        window.chatApp.bindEvents(20);

        $('#allGamer').click(function(){
          $('[name="gamer"]').each(function(){
            $(this).attr('checked', true);
          });
        })

        //Todo
        $('#yes_button').click(function(){
          var array = [];
          $('[name="gamer"]').each(function(){
            if (this.checked) {
              array.push(this.value);
            }
          });
          alert("answer right:"+array);
        });

        //Todo
        $('#no_button').click(function(){
          var array = [];
          $('[name="gamer"]').each(function(){
            if (this.checked) {
              array.push(this.value);
            }
          });
          alert("answer wrong:"+array);
        });

        $('#out_button').click(function(){
          var array = [];
          $('[name="gamer"]').each(function(){
            if (this.checked) {
              CM.unreg('origin_'+this.value);
              array.push(this.value);
            }
          });
          alert("outer:"+array);
        });

        $('#start_button').click(function(){
          var array = [];
          $('[name="gamer"]').each(function(){
            if (this.checked) {
              window.chatApp.action(this.value,'start');

              array.push(this.value);
            }
          });
          alert("start:"+array);
        });

        $('#stop_button').click(function(){
          var array = [];
          $('[name="gamer"]').each(function(){
            if (this.checked) {
              window.chatApp.action(this.value,'stop');

              array.push(this.value);
            }
          });
          alert("stop:"+array);
        });

      });
      </script>
      <% end %>